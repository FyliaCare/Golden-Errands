# Nixpacks configuration for Railway deployment
[providers]
  node = "18"

[variables]
  NODE_ENV = "production"
  NPM_CONFIG_PRODUCTION = "false"

[phases.setup]
  nixPkgs = ["nodejs-18_x", "npm-9_x"]

[phases.install]
  cmd = "npm ci"

[phases.build]
  cmd = "npm run build"

[start]
  cmd = "npm run railway:start"